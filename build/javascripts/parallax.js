function mr_parallax(){"use strict";function e(e){for(var t=0;t<e.length;t++)if("undefined"!=typeof document.body.style[e[t]])return e[t];return null}function t(){var e,t=0;return u()?(t=jQuery(".viu").find("nav:first").outerHeight(!0),("absolute"===(e=jQuery(".viu").find("nav:first").css("position"))||"fixed"===e)&&(t=0)):t=jQuery(document).find("nav:first").outerHeight(!0),t}function n(e,t,n,o){var r=e-1;return r/=o,e/=o,r--,e--,n*(e*e*e*e*e+1)+t-(n*(r*r*r*r*r+1)+t)}function o(){if(S){for(var e=d.length,t=a();e--;)r(d[e],t,h,w);S=!1}v&&(P+=-T*n(x,0,M,b),(P>Q||-Q>P)&&(_.scrollBy(0,P),P=0),++x>b&&(x=0,v=!1,y=!0,T=0,E=0,H=0,P=0)),m(o)}function r(e,t,n,o){u()?t+p-g>e.elemTop&&t-g<e.elemBottom&&(e.isFirstSection?e.imageHolder.style[f]=n+t/2+o:e.imageHolder.style[f]=n+(t-e.elemTop-g)/2+o):t+p>e.elemTop&&t<e.elemBottom&&(e.isFirstSection?e.imageHolder.style[f]=n+t/2+o:e.imageHolder.style[f]=n+(t+p-e.elemTop)/2+o)}function a(){return _!=window?_.scrollTop:0===document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop}function l(){S=!0}function i(e){!0===L.mr_scrollAssist&&(e.preventDefault&&e.preventDefault(),T=e.notRealWheel?-e.deltaY/4:1==e.deltaMode?-e.deltaY/3:100===Math.abs(e.deltaY)?-e.deltaY/120:-e.deltaY/40,T=-j>T?-j:T,T=T>j?j:T,v=!0,x=D)}function s(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function u(){return"undefined"!=typeof window.mr_variant}var d,m=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,c=["transform","msTransform","webkitTransform","mozTransform","oTransform"],f=e(c),h="translate3d(0,",w="px,0)",p=Math.max(document.documentElement.clientHeight,window.innerHeight||0),g=0,v=!1,y=!0,x=0,T=0,E=0,H=0,j=2,D=4,M=300,Q=1,b=30,P=0,_=window,S=(u(),!1),L=this;this.mr_scrollAssist=!!$("body").hasClass("scroll-assist"),jQuery(document).ready(function(){L.documentReady()}),jQuery(window).load(function(){L.windowLoad()}),this.getScrollingState=function(){return x>0},this.documentReady=function(e){return p=Math.max(document.documentElement.clientHeight,window.innerHeight||0),jQuery("body").hasClass("parallax-2d")&&(h="translate(0,",w="px)"),/Android|iPad|iPhone|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||window.opera)?jQuery(".parallax").removeClass("parallax"):m&&(L.profileParallaxElements(),L.setupParallax()),s(e)?void e():void 0},this.windowLoad=function(){p=Math.max(document.documentElement.clientHeight,window.innerHeight||0),g=t(),window.mr_parallax.profileParallaxElements()},this.setupParallax=function(){u()&&void 0!==(_=jQuery(".viu").get(0))&&(_.scrollBy=function(e,t){this.scrollTop+=t,this.scrollLeft+=e}),void 0!==_&&(_.addEventListener("scroll",l,!1),window.addWheelListener(_,i,!1),window.addEventListener("resize",function(){p=Math.max(document.documentElement.clientHeight,window.innerHeight||0),g=t(),L.profileParallaxElements()},!1),o())},this.profileParallaxElements=function(){d=[],g=t();var e=u(),n=".parallax > .background-image-holder, .parallax ul.slides > li > .background-image-holder";e&&(n=".viu .parallax > .background-image-holder, .viu .parallax ul.slides > li > .background-image-holder"),jQuery(n).each(function(){var t=jQuery(this).closest(".parallax"),n=e?t.position().top:t.offset().top;d.push({section:t.get(0),outerHeight:t.outerHeight(),elemTop:n,elemBottom:n+t.outerHeight(),isFirstSection:!!t.is(":nth-of-type(1)"),imageHolder:jQuery(this).get(0)}),e?e&&(t.is(":nth-of-type(1)")?L.mr_setTranslate3DTransform(jQuery(this).get(0),0===a()?0:a()/2):L.mr_setTranslate3DTransform(jQuery(this).get(0),(a()-n-g)/2)):t.is(":nth-of-type(1)")?L.mr_setTranslate3DTransform(jQuery(this).get(0),0===a()?0:a()/2):L.mr_setTranslate3DTransform(jQuery(this).get(0),(a()+p-n)/2)})},this.mr_setTranslate3DTransform=function(e,t){e.style[f]=h+t+w}}window.mr_parallax=new mr_parallax,function(e,t){function n(t,n,l,i){t[o](a+n,"wheel"==r?l:function(t){!t&&(t=e.event);var n={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaZ:0,notRealWheel:1,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==r?(n.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(n.deltaX=-.025*t.wheelDeltaX)):n.deltaY=t.detail/3,l(n)},i||!1)}var o,r,a="";e.addEventListener?o="addEventListener":(o="attachEvent",a="on"),r="onwheel"in t.createElement("div")?"wheel":"undefined"!=typeof t.onmousewheel?"mousewheel":"DOMMouseScroll",e.addWheelListener=function(e,t,o){n(e,r,t,o),"DOMMouseScroll"==r&&n(e,"MozMousePixelScroll",t,o)}}(window,document);